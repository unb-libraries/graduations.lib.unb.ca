# Migration configuration for honorary degree content.
id: degree
label: Honorary degrees
migration_group: honorary_migration
source:
  plugin: degree
  key: default
destination:
  plugin: entity:node
process:
  # Hardcode the destination node type (bundle) as 'honorary_degree'.
  type:
    plugin: default_value
    default_value: honorary_degree
  # Map Drupal MACHINE NAME fields to migration field names as declared
  # in source plugin.
  title: name
  field_ref_degree_ceremony: ceremony_id
  field_degree_name: degree
  field_list_degree: degree
  field_recipient_name: name
  field_recipient_gender: gender
  field_list_gender: gender
  field_valedictorian: valedictorian
  field_orator: orator
  field_citation: citation
  field_image: image
  field_img_caption: img_caption
  field_img_caption_2: img_caption_2
  field_degree_notes: notes
  # Get ceremony table for ceremony entity reference.
  field_ref_degree_ceremony:
    plugin: migration
    migration: ceremony
    source: nid
  # Dependency on module itself.
dependencies:
  enforced:
    module:
      - honorary_migration
migration_dependencies:
  required:
    - ceremony
